<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://code.jquery.com/jquery-3.6.4.js"
      integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
      crossorigin="anonymous"
    ></script>
    <title>Document</title>
    <script>
      //id.match($('input[name="email"]').attr('pattern') 이런 복잡한 코드들 같은 것은 const 변수로 미리 정의하여 사용하면 깔끔하고 가독성도 좋아진다 
        function join(){
          $('#submit-button').click(function(event) {
        event.preventDefault();//submit 시 초기화 방지
            const id = $('input[name="email"]').val();
            const password = $('#pass').val();
            const job = $('#job option:selected').val();
            let check = 0;
            console.log(`id: ${id}, password: ${password}`);
            //switch를 쓰려면 default를 꼭 넣는 것을 추천....
            
            // excute()얘도 사용 가능함
    if (id.match($('input[name="email"]').attr('pattern'))) {
      alert('이메일 형식이 올바릅니다!');
      // 여기에 폼 제출 코드 추가
    } else {
      alert('이메일 형식이 올바르지 않습니다!');
    }

    //체크하는 태그나 코드들은 대체로 접두 is 나 has로 bloolean 명을 확인하는 편
  });

    // 체크박스 전체 순회
    $('input:checkbox').each(function() {
    console.log($(this));

    // 체크 여부를 확인
    if ($(this).is(':checked')) {//이부분은 lingth 확인이 가능함 다만 숫자를 기재하는 방식은 체크박스항목 추가를 힘들게 하게 하되므로..checkbox의 length로 처리하는 것이 깔끔하고 더 확장성 있다
      console.log('클릭 됨');
      check++;
    } else {
      console.log('클릭 안됨');
    }
  }); //each -> for문 대신에 뺑뺑이 돌리기 위해 사용 되는 것

  if (id.length !== 0 && password.length !== 0 && job !== '-- 직업을 선택하세요 --' && check >= 3) {
    alert('회원가입 성공');
  } else {
    alert('비워진 정보가 있거나 체크박스가 3개 미만입니다');
  }
}
    </script>

  </head>
  <body>
    <form action="../html/target.html">
    <fieldset>
    <legend>회원 가입</legend>
    <input class="input" type="email" id="inputid" name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" placeholder="아이디">
    <br><br>
    <input class="input" type="password" id="pass" placeholder="패스워드">
    <br><br>
    &nbsp;&nbsp;&nbsp;
    <input type="radio" id="male" name="sex" value="남자">
    <!-- name으로 묶어야 택 1이 된다 없으면 둘다 체크 됨-->
    <label for="남자">남자</label>
    &nbsp;&nbsp;&nbsp;
    <input type="radio" id="female" name="sex" value="여자">
    <label for="여자">여자</label>
    <br><br>
    <select class="input" id="job" name="">
        <option value="" disabled selected="true">-- 직업을 선택하세요 --</option>
        <option value="donbacksuu">돈많은백수</option>
        <option value="zambacksuu">잠많은백수</option>
      </select>
    <br><br>
    <label><input class="checkb" type="checkbox" name="hobby" value="개발">개발</label>
    <label><input class="checkb" type="checkbox" name="hobby" value="게임">게임</label>
    <label><input class="checkb" type="checkbox" name="hobby" value="낚시">낚시</label>
    <br>
    <label><input class="checkb" type="checkbox" name="hobby" value="독서">독서</label>
    <label><input class="checkb" type="checkbox" name="hobby" value="노래">노래</label>
    <label><input class="checkb" type="checkbox" name="hobby" value="유튜브">유튜브</label>
    <br><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="input_button" id="submit-button" type="submit" value="회원가입">
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="input_button" type="reset" value="취소" />
</fieldset>
    </form>
  </body>
</html>
