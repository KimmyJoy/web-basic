<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://code.jquery.com/jquery-3.6.4.js"
      integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
      crossorigin="anonymous"
    ></script>
    <style>
        .card {
          border: 1px solid #ccc;
          border-radius: 4px;
          padding: 10px;
          margin-bottom: 10px;
          cursor: pointer;
          list-style: none;
        }
      </style>
    
     <script>
        //통신 했다 치고
        // const fakeData = {
        //     "postid": 1,
        //     "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
        //     "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit "
        // }


        async function fetchPost() {
          const response = await fetch("https://jsonplaceholder.typicode.com/posts");
          const jsonArray = await response.json();

          jsonArray.forEach(e => {
            $('ul').append(`<li class="card" onclick="nextPage(${e.id})">${e.title}</li>`);
          });

          $('.card').click(function () {
        const postId = $(this).data('postid');
        window.location.href = `230516_exam04-2.html?postId=${postId}`;
      });

            // for (let i = 0; i < jsonArray.length; i++) {
            //     $("div").append(`<input type= 'button' id='${jsonArray[i].postid}' value ='${jsonArray[i].title}' onclick = nextPage()><br>`);
            // }

        }
        // function nextPage(id) {
        //     //화면 넘어가기
        //     location.href = `230516_exam04-2.html?id=${id}`;//적혀진대로 넘기는 것
        //     //string은 encoded로 가공해서 넘겨야함
        // }
    </script>
  </head>
  <body onload="fetchPost()">
  <ul>
  </ul>
  </body>
</html> -->


<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
    crossorigin="anonymous"></script>

  <style>
    .card {
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 10px;
      margin-bottom: 10px;
      cursor: pointer;
    }
  </style>

  <script>
    async function loadPosts() {
      const response = await fetch('https://jsonplaceholder.typicode.com/posts');
      const posts = await response.json();

      posts.forEach(post => {
        const card = `<div class="card" data-postid="${post.id}">
          <h3>${post.title}</h3>
          <p>${post.body}</p>
        </div>`;

        $('body').append(card);
      });

      $('.card').click(function () {
        const postId = $(this).data('postid');
        window.location.href = `230516_exam04-2.html?postId=${postId}`;
      });
    }
  </script>
</head>

<body onload="loadPosts()">
</body>

</html>